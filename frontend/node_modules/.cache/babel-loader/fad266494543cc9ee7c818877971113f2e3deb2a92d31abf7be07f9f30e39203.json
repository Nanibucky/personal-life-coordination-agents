{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Settings,Database,Key,Activity,RefreshCw,CheckCircle,AlertCircle,Eye,EyeOff,Save,TestTube,FileText,Download,AlertTriangle,Home}from'lucide-react';import apiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AgentManagement=_ref=>{var _selectedAgent$mcp_to,_selectedAgent$mcp_to2,_selectedAgent$databa,_selectedAgent$databa2,_selectedAgent$extern,_selectedAgent$extern2;let{onBackToHome=()=>window.location.reload()}=_ref;const[agents,setAgents]=useState({});const[selectedAgent,setSelectedAgent]=useState(null);const[selectedTool,setSelectedTool]=useState(null);const[showConfigModal,setShowConfigModal]=useState(false);const[configForm,setConfigForm]=useState({});const[showPasswords,setShowPasswords]=useState({});const[loading,setLoading]=useState(false);useEffect(()=>{fetchAgents();},[]);const fetchAgents=async()=>{try{const response=await apiService.getAllAgentsStatus();setAgents(response.agents);}catch(error){console.error('Failed to fetch agents:',error);}};const fetchAgentDetails=async agentName=>{try{setLoading(true);const response=await fetch(`http://localhost:8000/agents/${agentName}`);const data=await response.json();setSelectedAgent({name:agentName,...data.agent});}catch(error){console.error('Failed to fetch agent details:',error);}finally{setLoading(false);}};const fetchToolDetails=async(agentName,toolName)=>{try{setLoading(true);const response=await fetch(`http://localhost:8000/agents/${agentName}/tools/${toolName}`);const data=await response.json();setSelectedTool(data.tool);setConfigForm(data.tool.current_config||{});}catch(error){console.error('Failed to fetch tool details:',error);}finally{setLoading(false);}};const updateToolConfig=async()=>{try{setLoading(true);const response=await fetch(`http://localhost:8000/agents/${selectedAgent.name}/tools/${selectedTool.name}/config`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({config:configForm})});const data=await response.json();if(data.success){alert('Configuration updated successfully!');setShowConfigModal(false);fetchToolDetails(selectedAgent.name,selectedTool.name);}else{alert('Failed to update configuration: '+data.error);}}catch(error){console.error('Failed to update tool config:',error);alert('Failed to update configuration');}finally{setLoading(false);}};const testToolConnection=async(agentName,toolName)=>{try{setLoading(true);const response=await fetch(`http://localhost:8000/agents/${agentName}/tools/${toolName}/test`,{method:'POST'});const data=await response.json();if(data.success){alert(`Test Results:\\\\n${JSON.stringify(data.test_results,null,2)}`);}else{alert('Test failed: '+data.error);}}catch(error){console.error('Failed to test tool:',error);}finally{setLoading(false);}};const openConfigModal=async(agentName,toolName)=>{try{setLoading(true);// Use our direct configuration approach with proper schema\nconst defaultConfig=getDefaultConfigForTool(toolName);const schema=getSchemaForTool(toolName);// Debug logging\nconsole.log('openConfigModal - toolName:',toolName);console.log('openConfigModal - defaultConfig:',defaultConfig);console.log('openConfigModal - schema:',schema);// Try to load existing configuration from the backend\nlet existingConfig={};try{const response=await fetch(`http://localhost:8000/agents/${agentName}/tools/${toolName}/config`);const data=await response.json();if(data.success&&data.config){existingConfig=data.config;}}catch(e){console.log('Using default config due to:',e.message);}// Merge existing config with defaults, prioritizing existing values\nconst mergedConfig={...defaultConfig,...existingConfig};setSelectedTool({name:toolName,agent:agentName,description:`Configure ${toolName} tool settings`,config:mergedConfig,schema:schema});setConfigForm(mergedConfig);setShowConfigModal(true);}catch(error){console.error('Failed to load tool configuration:',error);// Fallback to default configuration\nsetSelectedTool({name:toolName,agent:agentName,description:`Configure ${toolName} tool settings`,config:getDefaultConfigForTool(toolName),schema:getSchemaForTool(toolName)});setConfigForm(getDefaultConfigForTool(toolName));setShowConfigModal(true);}finally{setLoading(false);}};const getDefaultConfigForTool=toolName=>{const configs={// ============ NANI SCHEDULER TOOLS ============\ncalendar_manager:{google_client_id:'162356676608-79dcp2841e6tndjjbn1373bq1tv0p3ud.apps.googleusercontent.com',google_client_secret:'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',redirect_uri:'http://localhost:8000/auth/google/callback',user_email:'pyayalat@gmail.com'},scheduling_optimizer:{openai_api_key:'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',optimization_algorithm:'genetic',max_optimization_time:30},time_tracker:{storage_type:'local',auto_backup:true,backup_frequency:'daily'},focus_blocker:{block_social_media:true,block_news_sites:false,custom_blocked_sites:'',focus_duration:25},timezone_handler:{primary_timezone:'America/New_York',secondary_timezones:'',auto_detect_timezone:true},// ============ BUCKY SHOPPING TOOLS ============\ndeal_finder:{groupon_api_key:'',honey_account:'',rakuten_api_key:'',ibotta_api_key:'',max_deals_per_search:20},price_comparator:{kroger_api_key:'',walmart_api_key:'',target_api_key:'',costco_api_key:'',whole_foods_api_key:'',price_threshold:10},shopping_optimizer:{openai_api_key:'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',preferred_stores:'Kroger, Walmart, Target',max_travel_distance:10,budget_optimization:true},pantry_tracker:{storage_type:'local',expiration_alerts:true,alert_days_before:3,barcode_scanner_api:''},// ============ LUNA HEALTH TOOLS ============\nfitness_tracker:{fitbit_client_id:'',fitbit_client_secret:'',apple_health_enabled:false,garmin_api_key:'',strava_client_id:'',strava_client_secret:'',sync_frequency:'daily'},health_analyzer:{openai_api_key:'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',health_data_retention:365,enable_ai_insights:true,privacy_mode:'balanced'},workout_planner:{openai_api_key:'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',default_workout_duration:45,fitness_level:'intermediate',preferred_workout_types:'strength, cardio, yoga'},recovery_monitor:{track_sleep:true,track_hrv:true,track_stress:true,recovery_notifications:true},// ============ MILO NUTRITION TOOLS ============\nnutrition_analyzer:{openai_api_key:'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',usda_api_key:'',nutritionix_app_id:'',nutritionix_api_key:'',daily_calorie_target:2000},meal_planner:{openai_api_key:'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',spoonacular_api_key:'',dietary_restrictions:'',meal_prep_days:7,budget_per_meal:10},recipe_engine:{openai_api_key:'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',recipe_api_key:'',cuisine_preferences:'',difficulty_level:'medium',cooking_time_limit:60}};return configs[toolName]||{};};const getSchemaForTool=toolName=>{const schemas={// ============ NANI SCHEDULER TOOLS ============\ncalendar_manager:{google_client_id:{type:'string',label:'Google Client ID',required:true,placeholder:'Your Google OAuth Client ID'},google_client_secret:{type:'password',label:'Google Client Secret',required:true,placeholder:'Your Google OAuth Client Secret'},redirect_uri:{type:'string',label:'Redirect URI',required:true,default:'http://localhost:8000/auth/google/callback'},user_email:{type:'email',label:'User Email',required:false,placeholder:'Your Google account email'}},scheduling_optimizer:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},optimization_algorithm:{type:'select',label:'Optimization Algorithm',options:['genetic','greedy','dynamic_programming'],default:'genetic'},max_optimization_time:{type:'number',label:'Max Optimization Time (seconds)',default:30,min:5,max:300}},time_tracker:{storage_type:{type:'select',label:'Storage Type',options:['local','cloud'],default:'local'},auto_backup:{type:'boolean',label:'Auto Backup',default:true},backup_frequency:{type:'select',label:'Backup Frequency',options:['hourly','daily','weekly'],default:'daily'}},focus_blocker:{block_social_media:{type:'boolean',label:'Block Social Media',default:true},block_news_sites:{type:'boolean',label:'Block News Sites',default:false},custom_blocked_sites:{type:'string',label:'Custom Blocked Sites (comma-separated)',placeholder:'example.com, another-site.com'},focus_duration:{type:'number',label:'Default Focus Duration (minutes)',default:25,min:5,max:180}},timezone_handler:{primary_timezone:{type:'string',label:'Primary Timezone',required:true,placeholder:'America/New_York',default:'America/New_York'},secondary_timezones:{type:'string',label:'Secondary Timezones (comma-separated)',placeholder:'Europe/London, Asia/Tokyo'},auto_detect_timezone:{type:'boolean',label:'Auto Detect Timezone',default:true}},// ============ BUCKY SHOPPING TOOLS ============\ndeal_finder:{groupon_api_key:{type:'password',label:'Groupon API Key',required:false,placeholder:'Your Groupon API key'},honey_account:{type:'string',label:'Honey Account Email',required:false,placeholder:'your@email.com'},rakuten_api_key:{type:'password',label:'Rakuten API Key',required:false,placeholder:'Your Rakuten API key'},ibotta_api_key:{type:'password',label:'Ibotta API Key',required:false,placeholder:'Your Ibotta API key'},max_deals_per_search:{type:'number',label:'Max Deals Per Search',default:20,min:5,max:100}},price_comparator:{kroger_api_key:{type:'password',label:'Kroger API Key',required:false,placeholder:'Your Kroger API key'},walmart_api_key:{type:'password',label:'Walmart API Key',required:false,placeholder:'Your Walmart API key'},target_api_key:{type:'password',label:'Target API Key',required:false,placeholder:'Your Target API key'},costco_api_key:{type:'password',label:'Costco API Key',required:false,placeholder:'Your Costco API key'},whole_foods_api_key:{type:'password',label:'Whole Foods API Key',required:false,placeholder:'Your Whole Foods API key'},price_threshold:{type:'number',label:'Price Alert Threshold (%)',default:10,min:1,max:50}},shopping_optimizer:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},preferred_stores:{type:'string',label:'Preferred Stores (comma-separated)',placeholder:'Kroger, Walmart, Target'},max_travel_distance:{type:'number',label:'Max Travel Distance (miles)',default:10,min:1,max:50},budget_optimization:{type:'boolean',label:'Enable Budget Optimization',default:true}},pantry_tracker:{storage_type:{type:'select',label:'Storage Type',options:['local','cloud'],default:'local'},expiration_alerts:{type:'boolean',label:'Expiration Alerts',default:true},alert_days_before:{type:'number',label:'Alert Days Before Expiration',default:3,min:1,max:30},barcode_scanner_api:{type:'password',label:'Barcode Scanner API Key',required:false,placeholder:'Your barcode API key'}},// ============ LUNA HEALTH TOOLS ============\nfitness_tracker:{fitbit_client_id:{type:'string',label:'Fitbit Client ID',required:false,placeholder:'Your Fitbit Client ID'},fitbit_client_secret:{type:'password',label:'Fitbit Client Secret',required:false,placeholder:'Your Fitbit Client Secret'},apple_health_enabled:{type:'boolean',label:'Apple Health Integration',default:false},garmin_api_key:{type:'password',label:'Garmin API Key',required:false,placeholder:'Your Garmin API key'},strava_client_id:{type:'string',label:'Strava Client ID',required:false,placeholder:'Your Strava Client ID'},strava_client_secret:{type:'password',label:'Strava Client Secret',required:false,placeholder:'Your Strava Client Secret'},sync_frequency:{type:'select',label:'Data Sync Frequency',options:['realtime','hourly','daily'],default:'daily'}},health_analyzer:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},health_data_retention:{type:'number',label:'Health Data Retention (days)',default:365,min:30,max:1825},enable_ai_insights:{type:'boolean',label:'Enable AI Health Insights',default:true},privacy_mode:{type:'select',label:'Privacy Mode',options:['strict','balanced','open'],default:'balanced'}},workout_planner:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},default_workout_duration:{type:'number',label:'Default Workout Duration (minutes)',default:45,min:15,max:180},fitness_level:{type:'select',label:'Default Fitness Level',options:['beginner','intermediate','advanced'],default:'intermediate'},preferred_workout_types:{type:'string',label:'Preferred Workout Types (comma-separated)',placeholder:'strength, cardio, yoga'}},recovery_monitor:{track_sleep:{type:'boolean',label:'Track Sleep Patterns',default:true},track_hrv:{type:'boolean',label:'Track Heart Rate Variability',default:true},track_stress:{type:'boolean',label:'Track Stress Levels',default:true},recovery_notifications:{type:'boolean',label:'Recovery Notifications',default:true}},// ============ MILO NUTRITION TOOLS ============\nnutrition_analyzer:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},usda_api_key:{type:'password',label:'USDA FoodData API Key',required:false,placeholder:'Your USDA API key'},nutritionix_app_id:{type:'string',label:'Nutritionix App ID',required:false,placeholder:'Your Nutritionix App ID'},nutritionix_api_key:{type:'password',label:'Nutritionix API Key',required:false,placeholder:'Your Nutritionix API key'},daily_calorie_target:{type:'number',label:'Daily Calorie Target',default:2000,min:1000,max:5000}},meal_planner:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},spoonacular_api_key:{type:'password',label:'Spoonacular API Key',required:false,placeholder:'Your Spoonacular API key'},dietary_restrictions:{type:'string',label:'Dietary Restrictions (comma-separated)',placeholder:'vegetarian, gluten-free, dairy-free'},meal_prep_days:{type:'number',label:'Meal Prep Days',default:7,min:1,max:14},budget_per_meal:{type:'number',label:'Budget Per Meal ($)',default:10,min:1,max:100}},recipe_engine:{openai_api_key:{type:'password',label:'OpenAI API Key',required:true,placeholder:'sk-...'},recipe_api_key:{type:'password',label:'Recipe API Key',required:false,placeholder:'Your recipe API key'},cuisine_preferences:{type:'string',label:'Cuisine Preferences (comma-separated)',placeholder:'italian, asian, mexican'},difficulty_level:{type:'select',label:'Recipe Difficulty Level',options:['easy','medium','hard','any'],default:'medium'},cooking_time_limit:{type:'number',label:'Cooking Time Limit (minutes)',default:60,min:10,max:300}}};return schemas[toolName]||{};};const renderConfigurationForm=()=>{if(!(selectedTool!==null&&selectedTool!==void 0&&selectedTool.name))return null;const schema=selectedTool.schema||{};// Debug logging\nconsole.log('renderConfigurationForm - selectedTool:',selectedTool);console.log('renderConfigurationForm - schema:',schema);console.log('renderConfigurationForm - schema entries:',Object.entries(schema));if(Object.keys(schema).length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800\",children:\"Configuration Settings\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-500\",children:[\"No configuration schema found for \",selectedTool.name]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800\",children:\"Configuration Settings\"}),Object.entries(schema).map(_ref2=>{var _field$options;let[key,field]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),field.type==='select'?/*#__PURE__*/_jsxs(\"select\",{value:configForm[key]||field.default||'',onChange:e=>setConfigForm(prev=>({...prev,[key]:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),(_field$options=field.options)===null||_field$options===void 0?void 0:_field$options.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option))]}):field.type==='boolean'?/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:configForm[key]!==undefined?configForm[key]:field.default,onChange:e=>setConfigForm(prev=>({...prev,[key]:e.target.checked})),className:\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Enable\"})]}):field.type==='number'?/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:field.min,max:field.max,value:configForm[key]||field.default||'',onChange:e=>setConfigForm(prev=>({...prev,[key]:parseInt(e.target.value)||''})),placeholder:field.placeholder,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"}):/*#__PURE__*/_jsx(\"input\",{type:field.type==='password'?'password':field.type==='email'?'email':'text',value:configForm[key]||'',onChange:e=>setConfigForm(prev=>({...prev,[key]:e.target.value})),placeholder:field.placeholder,className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"}),field.type==='password'&&configForm[key]&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"}),\"API key configured\"]})]},key);}),selectedTool.name==='calendar_manager'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-amber-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-amber-800 mb-2\",children:\"Setup Instructions:\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"text-sm text-amber-700 space-y-1\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"1. Go to \",/*#__PURE__*/_jsx(\"a\",{href:\"https://console.developers.google.com/\",target:\"_blank\",rel:\"noreferrer\",className:\"underline\",children:\"Google Cloud Console\"})]}),/*#__PURE__*/_jsx(\"li\",{children:\"2. Enable the Google Calendar API\"}),/*#__PURE__*/_jsx(\"li\",{children:\"3. Create OAuth 2.0 credentials\"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"4. Add \",window.location.origin,\"/auth/google/callback as authorized redirect URI\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"5. Copy the Client ID and Secret here\"})]})]})]});};const validateConfiguration=(config,schema)=>{const errors=[];for(const[key,field]of Object.entries(schema)){const value=config[key];// Check required fields\nif(field.required&&(!value||value.toString().trim()==='')){errors.push(`${field.label} is required`);continue;}if(value&&value.toString().trim()!==''){// Validate specific field types\nif(field.type==='email'&&!value.includes('@')){errors.push(`${field.label} must be a valid email address`);}if(field.type==='password'&&key.includes('openai_api_key')&&!value.startsWith('sk-')){errors.push(`${field.label} must start with 'sk-'`);}if(field.type==='number'){const num=parseInt(value);if(isNaN(num)){errors.push(`${field.label} must be a valid number`);}else{if(field.min&&num<field.min){errors.push(`${field.label} must be at least ${field.min}`);}if(field.max&&num>field.max){errors.push(`${field.label} must be at most ${field.max}`);}}}if(key==='google_client_id'&&!value.includes('.apps.googleusercontent.com')){errors.push(`${field.label} must be a valid Google OAuth Client ID ending in '.apps.googleusercontent.com'`);}if(key==='google_client_secret'&&!value.startsWith('GOCSPX-')){errors.push(`${field.label} must be a valid Google OAuth Client Secret starting with 'GOCSPX-'`);}}}return errors;};const saveConfiguration=async()=>{if(!selectedTool)return;// Validate configuration before saving\nconst errors=validateConfiguration(configForm,selectedTool.schema);if(errors.length>0){alert(`Configuration validation failed:\\n\\n${errors.join('\\n')}`);return;}try{setLoading(true);console.log('Saving configuration for:',selectedTool.agent,selectedTool.name);console.log('Configuration data:',configForm);const response=await fetch(`http://localhost:8000/agents/${selectedTool.agent}/tools/${selectedTool.name}/config`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({config:configForm})});const data=await response.json();console.log('Save response:',data);if(data.success){alert('✅ Configuration saved successfully!');setShowConfigModal(false);// Refresh agent data to show updated configuration\nfetchAgents();}else{alert(`❌ Failed to save configuration:\\n${data.error||'Unknown error'}`);}}catch(error){console.error('Failed to save configuration:',error);alert(`❌ Failed to save configuration:\\n${error.message}\\n\\nCheck console for details.`);}finally{setLoading(false);}};const testConfiguration=async()=>{if(!selectedTool)return;// Validate configuration before testing\nconst errors=validateConfiguration(configForm,selectedTool.schema);if(errors.length>0){alert(`Configuration validation failed:\\n\\n${errors.join('\\n')}\\n\\nPlease fix these issues before testing.`);return;}try{setLoading(true);console.log('Testing configuration for:',selectedTool.agent,selectedTool.name);console.log('Configuration data:',configForm);const response=await fetch(`http://localhost:8000/agents/${selectedTool.agent}/tools/${selectedTool.name}/test`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({config:configForm})});const data=await response.json();console.log('Test response:',data);if(data.success){const resultsText=Object.entries(data.test_results).map(_ref3=>{let[key,value]=_ref3;return`• ${key}: ${value}`;}).join('\\n');alert(`✅ Configuration Test Successful!\\n\\n${resultsText}`);}else{alert(`❌ Configuration Test Failed:\\n\\n${data.error}`);}}catch(error){console.error('Failed to test configuration:',error);alert(`❌ Failed to test configuration:\\n${error.message}\\n\\nCheck console for details.`);}finally{setLoading(false);}};const restartAgent=async agentName=>{try{setLoading(true);const response=await fetch(`http://localhost:8000/agents/${agentName}/restart`,{method:'POST'});const data=await response.json();if(data.success){alert(`Agent ${agentName} restarted successfully!`);fetchAgents();}else{alert('Failed to restart agent: '+data.error);}}catch(error){console.error('Failed to restart agent:',error);}finally{setLoading(false);}};const togglePasswordVisibility=field=>{setShowPasswords(prev=>({...prev,[field]:!prev[field]}));};const getStatusColor=status=>{switch(status){case'healthy':case'active':case'connected':return'text-green-500';case'warning':return'text-yellow-500';case'unreachable':case'error':return'text-red-500';default:return'text-gray-500';}};const getStatusIcon=status=>{switch(status){case'healthy':case'active':case'connected':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"});case'warning':return/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4\"});case'unreachable':case'error':return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"});default:return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"});}};if(!selectedAgent){return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Agent Management & Configuration\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onBackToHome,className:\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2 transition-colors\",children:[/*#__PURE__*/_jsx(Home,{className:\"w-4 h-4\"}),\"Back to Home\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:Object.entries(agents).map(_ref4=>{var _agent$databases,_agent$external_apis,_agent$external_apis2;let[agentKey,agent]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg border border-gray-200 p-6 cursor-pointer hover:shadow-xl transition-shadow\",onClick:()=>fetchAgentDetails(agentKey),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:agent.name}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center gap-1 ${getStatusColor(agent.status)}`,children:[getStatusIcon(agent.status),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:agent.status})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4\",children:agent.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"MCP Tools:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:agent.total_tools})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Port:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono\",children:agent.port})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Databases:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:((_agent$databases=agent.databases)===null||_agent$databases===void 0?void 0:_agent$databases.length)||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex flex-wrap gap-1\",children:[(_agent$external_apis=agent.external_apis)===null||_agent$external_apis===void 0?void 0:_agent$external_apis.slice(0,3).map(api=>/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded\",children:api},api)),((_agent$external_apis2=agent.external_apis)===null||_agent$external_apis2===void 0?void 0:_agent$external_apis2.length)>3&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded\",children:[\"+\",agent.external_apis.length-3,\" more\"]})]})]},agentKey);})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedAgent(null);setSelectedTool(null);},className:\"text-blue-500 hover:text-blue-700 mb-2\",children:\"\\u2190 Back to Agents\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold\",children:[selectedAgent.name,\" - Agent Management\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:selectedAgent.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center gap-2 ${getStatusColor(selectedAgent.status)}`,children:[getStatusIcon(selectedAgent.status),/*#__PURE__*/_jsx(\"span\",{children:selectedAgent.status})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>restartAgent(selectedAgent.name),className:\"px-3 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 flex items-center gap-2\",disabled:loading,children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),\"Restart\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onBackToHome,className:\"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Home,{className:\"w-4 h-4\"}),\"Home\"]})]})]}),selectedAgent.runtime_info&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:\"Runtime Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Uptime:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono\",children:selectedAgent.runtime_info.uptime})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Requests:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono\",children:selectedAgent.runtime_info.requests_handled})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Success Rate:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-green-600\",children:selectedAgent.runtime_info.success_rate})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Memory:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono\",children:selectedAgent.runtime_info.memory_usage})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),\"MCP Tools (\",((_selectedAgent$mcp_to=selectedAgent.mcp_tools)===null||_selectedAgent$mcp_to===void 0?void 0:_selectedAgent$mcp_to.length)||0,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:(_selectedAgent$mcp_to2=selectedAgent.mcp_tools)===null||_selectedAgent$mcp_to2===void 0?void 0:_selectedAgent$mcp_to2.map(tool=>{var _tool$config_items,_tool$config_items2,_tool$config_items3;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer\",onClick:()=>fetchToolDetails(selectedAgent.name,tool.name),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:tool.name}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center gap-1 ${getStatusColor(tool.status)}`,children:[getStatusIcon(tool.status),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:tool.status})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();testToolConnection(selectedAgent.name,tool.name);},className:\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 flex items-center gap-1\",disabled:loading,children:[/*#__PURE__*/_jsx(TestTube,{className:\"w-3 h-3\"}),\"Test\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();openConfigModal(selectedAgent.name,tool.name);},className:\"px-2 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Key,{className:\"w-3 h-3\"}),\"Configure\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3\",children:tool.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"Config Items: \",((_tool$config_items=tool.config_items)===null||_tool$config_items===void 0?void 0:_tool$config_items.length)||0]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"Last Used: \",new Date(tool.last_used).toLocaleTimeString()]})]}),tool.requires_config&&/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded-full text-xs ${((_tool$config_items2=tool.config_items)===null||_tool$config_items2===void 0?void 0:_tool$config_items2.length)>0?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'}`,children:((_tool$config_items3=tool.config_items)===null||_tool$config_items3===void 0?void 0:_tool$config_items3.length)>0?'Needs Config':'Configured'})]})]},tool.name);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-5 h-5\"}),\"Databases (\",((_selectedAgent$databa=selectedAgent.databases)===null||_selectedAgent$databa===void 0?void 0:_selectedAgent$databa.length)||0,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-4\",children:(_selectedAgent$databa2=selectedAgent.databases)===null||_selectedAgent$databa2===void 0?void 0:_selectedAgent$databa2.map(db=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:db}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-500\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Connected\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Size: 45MB\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Last Backup: Today 10:00 AM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-3 h-3\"}),\"Backup\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-3 h-3\"}),\"Logs\"]})]})]},db))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-5 h-5\"}),\"External APIs (\",((_selectedAgent$extern=selectedAgent.external_apis)===null||_selectedAgent$extern===void 0?void 0:_selectedAgent$extern.length)||0,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-3 gap-4\",children:(_selectedAgent$extern2=selectedAgent.external_apis)===null||_selectedAgent$extern2===void 0?void 0:_selectedAgent$extern2.map(api=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:api}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-green-500\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Active\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Rate limit: 95/100 requests\"})]},api))})]})}),showConfigModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold\",children:[\"Configure \",selectedTool===null||selectedTool===void 0?void 0:selectedTool.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowConfigModal(false),className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-6 h-6\"})})]}),selectedTool&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-blue-800 mb-2\",children:selectedTool.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-700 text-sm\",children:selectedTool.description})]}),renderConfigurationForm(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('Cancel clicked');setShowConfigModal(false);},className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{console.log('Save clicked - configForm:',configForm);saveConfiguration();},disabled:loading,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2\",children:[loading?/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"}),\"Save Configuration\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{console.log('Test clicked - configForm:',configForm);testConfiguration();},disabled:loading,className:\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TestTube,{className:\"w-4 h-4\"}),\"Test\"]})]})]})]})})]});};export default AgentManagement;","map":{"version":3,"names":["React","useState","useEffect","Settings","Database","Key","Activity","RefreshCw","CheckCircle","AlertCircle","Eye","EyeOff","Save","TestTube","FileText","Download","AlertTriangle","Home","apiService","jsx","_jsx","jsxs","_jsxs","AgentManagement","_ref","_selectedAgent$mcp_to","_selectedAgent$mcp_to2","_selectedAgent$databa","_selectedAgent$databa2","_selectedAgent$extern","_selectedAgent$extern2","onBackToHome","window","location","reload","agents","setAgents","selectedAgent","setSelectedAgent","selectedTool","setSelectedTool","showConfigModal","setShowConfigModal","configForm","setConfigForm","showPasswords","setShowPasswords","loading","setLoading","fetchAgents","response","getAllAgentsStatus","error","console","fetchAgentDetails","agentName","fetch","data","json","name","agent","fetchToolDetails","toolName","tool","current_config","updateToolConfig","method","headers","body","JSON","stringify","config","success","alert","testToolConnection","test_results","openConfigModal","defaultConfig","getDefaultConfigForTool","schema","getSchemaForTool","log","existingConfig","e","message","mergedConfig","description","configs","calendar_manager","google_client_id","google_client_secret","redirect_uri","user_email","scheduling_optimizer","openai_api_key","optimization_algorithm","max_optimization_time","time_tracker","storage_type","auto_backup","backup_frequency","focus_blocker","block_social_media","block_news_sites","custom_blocked_sites","focus_duration","timezone_handler","primary_timezone","secondary_timezones","auto_detect_timezone","deal_finder","groupon_api_key","honey_account","rakuten_api_key","ibotta_api_key","max_deals_per_search","price_comparator","kroger_api_key","walmart_api_key","target_api_key","costco_api_key","whole_foods_api_key","price_threshold","shopping_optimizer","preferred_stores","max_travel_distance","budget_optimization","pantry_tracker","expiration_alerts","alert_days_before","barcode_scanner_api","fitness_tracker","fitbit_client_id","fitbit_client_secret","apple_health_enabled","garmin_api_key","strava_client_id","strava_client_secret","sync_frequency","health_analyzer","health_data_retention","enable_ai_insights","privacy_mode","workout_planner","default_workout_duration","fitness_level","preferred_workout_types","recovery_monitor","track_sleep","track_hrv","track_stress","recovery_notifications","nutrition_analyzer","usda_api_key","nutritionix_app_id","nutritionix_api_key","daily_calorie_target","meal_planner","spoonacular_api_key","dietary_restrictions","meal_prep_days","budget_per_meal","recipe_engine","recipe_api_key","cuisine_preferences","difficulty_level","cooking_time_limit","schemas","type","label","required","placeholder","default","options","min","max","renderConfigurationForm","Object","entries","keys","length","className","children","map","_ref2","_field$options","key","field","value","onChange","prev","target","option","checked","undefined","parseInt","href","rel","origin","validateConfiguration","errors","toString","trim","push","includes","startsWith","num","isNaN","saveConfiguration","join","testConfiguration","resultsText","_ref3","restartAgent","togglePasswordVisibility","getStatusColor","status","getStatusIcon","onClick","_ref4","_agent$databases","_agent$external_apis","_agent$external_apis2","agentKey","total_tools","port","databases","external_apis","slice","api","disabled","runtime_info","uptime","requests_handled","success_rate","memory_usage","mcp_tools","_tool$config_items","_tool$config_items2","_tool$config_items3","stopPropagation","config_items","Date","last_used","toLocaleTimeString","requires_config","db"],"sources":["/Users/tharun/personal-life-coordination-agents/frontend/src/components/AgentManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Settings, \n  Database, \n  Key, \n  Activity, \n  RefreshCw, \n  CheckCircle, \n  AlertCircle, \n  Eye, \n  EyeOff,\n  Save,\n  TestTube,\n  FileText,\n  Download,\n  AlertTriangle,\n  Home\n} from 'lucide-react';\nimport apiService from '../services/api';\n\nconst AgentManagement = ({ onBackToHome = () => window.location.reload() }) => {\n  const [agents, setAgents] = useState({});\n  const [selectedAgent, setSelectedAgent] = useState(null);\n  const [selectedTool, setSelectedTool] = useState(null);\n  const [showConfigModal, setShowConfigModal] = useState(false);\n  const [configForm, setConfigForm] = useState({});\n  const [showPasswords, setShowPasswords] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchAgents();\n  }, []);\n\n  const fetchAgents = async () => {\n    try {\n      const response = await apiService.getAllAgentsStatus();\n      setAgents(response.agents);\n    } catch (error) {\n      console.error('Failed to fetch agents:', error);\n    }\n  };\n\n  const fetchAgentDetails = async (agentName) => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:8000/agents/${agentName}`);\n      const data = await response.json();\n      setSelectedAgent({ name: agentName, ...data.agent });\n    } catch (error) {\n      console.error('Failed to fetch agent details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchToolDetails = async (agentName, toolName) => {\n    try {\n      setLoading(true);\n      const response = await fetch(`http://localhost:8000/agents/${agentName}/tools/${toolName}`);\n      const data = await response.json();\n      setSelectedTool(data.tool);\n      setConfigForm(data.tool.current_config || {});\n    } catch (error) {\n      console.error('Failed to fetch tool details:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateToolConfig = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `http://localhost:8000/agents/${selectedAgent.name}/tools/${selectedTool.name}/config`,\n        {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ config: configForm })\n        }\n      );\n      const data = await response.json();\n      \n      if (data.success) {\n        alert('Configuration updated successfully!');\n        setShowConfigModal(false);\n        fetchToolDetails(selectedAgent.name, selectedTool.name);\n      } else {\n        alert('Failed to update configuration: ' + data.error);\n      }\n    } catch (error) {\n      console.error('Failed to update tool config:', error);\n      alert('Failed to update configuration');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const testToolConnection = async (agentName, toolName) => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `http://localhost:8000/agents/${agentName}/tools/${toolName}/test`,\n        { method: 'POST' }\n      );\n      const data = await response.json();\n      \n      if (data.success) {\n        alert(`Test Results:\\\\n${JSON.stringify(data.test_results, null, 2)}`);\n      } else {\n        alert('Test failed: ' + data.error);\n      }\n    } catch (error) {\n      console.error('Failed to test tool:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openConfigModal = async (agentName, toolName) => {\n    try {\n      setLoading(true);\n      \n      // Use our direct configuration approach with proper schema\n      const defaultConfig = getDefaultConfigForTool(toolName);\n      const schema = getSchemaForTool(toolName);\n      \n      // Debug logging\n      console.log('openConfigModal - toolName:', toolName);\n      console.log('openConfigModal - defaultConfig:', defaultConfig);\n      console.log('openConfigModal - schema:', schema);\n      \n      // Try to load existing configuration from the backend\n      let existingConfig = {};\n      try {\n        const response = await fetch(`http://localhost:8000/agents/${agentName}/tools/${toolName}/config`);\n        const data = await response.json();\n        if (data.success && data.config) {\n          existingConfig = data.config;\n        }\n      } catch (e) {\n        console.log('Using default config due to:', e.message);\n      }\n      \n      // Merge existing config with defaults, prioritizing existing values\n      const mergedConfig = { ...defaultConfig, ...existingConfig };\n      \n      setSelectedTool({\n        name: toolName,\n        agent: agentName,\n        description: `Configure ${toolName} tool settings`,\n        config: mergedConfig,\n        schema: schema\n      });\n      \n      setConfigForm(mergedConfig);\n      setShowConfigModal(true);\n    } catch (error) {\n      console.error('Failed to load tool configuration:', error);\n      // Fallback to default configuration\n      setSelectedTool({\n        name: toolName,\n        agent: agentName,\n        description: `Configure ${toolName} tool settings`,\n        config: getDefaultConfigForTool(toolName),\n        schema: getSchemaForTool(toolName)\n      });\n      setConfigForm(getDefaultConfigForTool(toolName));\n      setShowConfigModal(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getDefaultConfigForTool = (toolName) => {\n    const configs = {\n      // ============ NANI SCHEDULER TOOLS ============\n      calendar_manager: {\n        google_client_id: '162356676608-79dcp2841e6tndjjbn1373bq1tv0p3ud.apps.googleusercontent.com',\n        google_client_secret: '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',\n        redirect_uri: 'http://localhost:8000/auth/google/callback',\n        user_email: 'pyayalat@gmail.com'\n      },\n      scheduling_optimizer: {\n        openai_api_key: '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',\n        optimization_algorithm: 'genetic',\n        max_optimization_time: 30\n      },\n      time_tracker: {\n        storage_type: 'local',\n        auto_backup: true,\n        backup_frequency: 'daily'\n      },\n      focus_blocker: {\n        block_social_media: true,\n        block_news_sites: false,\n        custom_blocked_sites: '',\n        focus_duration: 25\n      },\n      timezone_handler: {\n        primary_timezone: 'America/New_York',\n        secondary_timezones: '',\n        auto_detect_timezone: true\n      },\n\n      // ============ BUCKY SHOPPING TOOLS ============\n      deal_finder: {\n        groupon_api_key: '',\n        honey_account: '',\n        rakuten_api_key: '',\n        ibotta_api_key: '',\n        max_deals_per_search: 20\n      },\n      price_comparator: {\n        kroger_api_key: '',\n        walmart_api_key: '',\n        target_api_key: '',\n        costco_api_key: '',\n        whole_foods_api_key: '',\n        price_threshold: 10\n      },\n      shopping_optimizer: {\n        openai_api_key: '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',\n        preferred_stores: 'Kroger, Walmart, Target',\n        max_travel_distance: 10,\n        budget_optimization: true\n      },\n      pantry_tracker: {\n        storage_type: 'local',\n        expiration_alerts: true,\n        alert_days_before: 3,\n        barcode_scanner_api: ''\n      },\n\n      // ============ LUNA HEALTH TOOLS ============\n      fitness_tracker: {\n        fitbit_client_id: '',\n        fitbit_client_secret: '',\n        apple_health_enabled: false,\n        garmin_api_key: '',\n        strava_client_id: '',\n        strava_client_secret: '',\n        sync_frequency: 'daily'\n      },\n      health_analyzer: {\n        openai_api_key: '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',\n        health_data_retention: 365,\n        enable_ai_insights: true,\n        privacy_mode: 'balanced'\n      },\n      workout_planner: {\n        openai_api_key: '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',\n        default_workout_duration: 45,\n        fitness_level: 'intermediate',\n        preferred_workout_types: 'strength, cardio, yoga'\n      },\n      recovery_monitor: {\n        track_sleep: true,\n        track_hrv: true,\n        track_stress: true,\n        recovery_notifications: true\n      },\n\n      // ============ MILO NUTRITION TOOLS ============\n      nutrition_analyzer: {\n        openai_api_key: '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',\n        usda_api_key: '',\n        nutritionix_app_id: '',\n        nutritionix_api_key: '',\n        daily_calorie_target: 2000\n      },\n      meal_planner: {\n        openai_api_key: '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',\n        spoonacular_api_key: '',\n        dietary_restrictions: '',\n        meal_prep_days: 7,\n        budget_per_meal: 10\n      },\n      recipe_engine: {\n        openai_api_key: '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',\n        recipe_api_key: '',\n        cuisine_preferences: '',\n        difficulty_level: 'medium',\n        cooking_time_limit: 60\n      }\n    };\n    return configs[toolName] || {};\n  };\n\n  const getSchemaForTool = (toolName) => {\n    const schemas = {\n      // ============ NANI SCHEDULER TOOLS ============\n      calendar_manager: {\n        google_client_id: { type: 'string', label: 'Google Client ID', required: true, placeholder: 'Your Google OAuth Client ID' },\n        google_client_secret: { type: 'password', label: 'Google Client Secret', required: true, placeholder: 'Your Google OAuth Client Secret' },\n        redirect_uri: { type: 'string', label: 'Redirect URI', required: true, default: 'http://localhost:8000/auth/google/callback' },\n        user_email: { type: 'email', label: 'User Email', required: false, placeholder: 'Your Google account email' }\n      },\n      scheduling_optimizer: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        optimization_algorithm: { type: 'select', label: 'Optimization Algorithm', options: ['genetic', 'greedy', 'dynamic_programming'], default: 'genetic' },\n        max_optimization_time: { type: 'number', label: 'Max Optimization Time (seconds)', default: 30, min: 5, max: 300 }\n      },\n      time_tracker: {\n        storage_type: { type: 'select', label: 'Storage Type', options: ['local', 'cloud'], default: 'local' },\n        auto_backup: { type: 'boolean', label: 'Auto Backup', default: true },\n        backup_frequency: { type: 'select', label: 'Backup Frequency', options: ['hourly', 'daily', 'weekly'], default: 'daily' }\n      },\n      focus_blocker: {\n        block_social_media: { type: 'boolean', label: 'Block Social Media', default: true },\n        block_news_sites: { type: 'boolean', label: 'Block News Sites', default: false },\n        custom_blocked_sites: { type: 'string', label: 'Custom Blocked Sites (comma-separated)', placeholder: 'example.com, another-site.com' },\n        focus_duration: { type: 'number', label: 'Default Focus Duration (minutes)', default: 25, min: 5, max: 180 }\n      },\n      timezone_handler: {\n        primary_timezone: { type: 'string', label: 'Primary Timezone', required: true, placeholder: 'America/New_York', default: 'America/New_York' },\n        secondary_timezones: { type: 'string', label: 'Secondary Timezones (comma-separated)', placeholder: 'Europe/London, Asia/Tokyo' },\n        auto_detect_timezone: { type: 'boolean', label: 'Auto Detect Timezone', default: true }\n      },\n\n      // ============ BUCKY SHOPPING TOOLS ============\n      deal_finder: {\n        groupon_api_key: { type: 'password', label: 'Groupon API Key', required: false, placeholder: 'Your Groupon API key' },\n        honey_account: { type: 'string', label: 'Honey Account Email', required: false, placeholder: 'your@email.com' },\n        rakuten_api_key: { type: 'password', label: 'Rakuten API Key', required: false, placeholder: 'Your Rakuten API key' },\n        ibotta_api_key: { type: 'password', label: 'Ibotta API Key', required: false, placeholder: 'Your Ibotta API key' },\n        max_deals_per_search: { type: 'number', label: 'Max Deals Per Search', default: 20, min: 5, max: 100 }\n      },\n      price_comparator: {\n        kroger_api_key: { type: 'password', label: 'Kroger API Key', required: false, placeholder: 'Your Kroger API key' },\n        walmart_api_key: { type: 'password', label: 'Walmart API Key', required: false, placeholder: 'Your Walmart API key' },\n        target_api_key: { type: 'password', label: 'Target API Key', required: false, placeholder: 'Your Target API key' },\n        costco_api_key: { type: 'password', label: 'Costco API Key', required: false, placeholder: 'Your Costco API key' },\n        whole_foods_api_key: { type: 'password', label: 'Whole Foods API Key', required: false, placeholder: 'Your Whole Foods API key' },\n        price_threshold: { type: 'number', label: 'Price Alert Threshold (%)', default: 10, min: 1, max: 50 }\n      },\n      shopping_optimizer: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        preferred_stores: { type: 'string', label: 'Preferred Stores (comma-separated)', placeholder: 'Kroger, Walmart, Target' },\n        max_travel_distance: { type: 'number', label: 'Max Travel Distance (miles)', default: 10, min: 1, max: 50 },\n        budget_optimization: { type: 'boolean', label: 'Enable Budget Optimization', default: true }\n      },\n      pantry_tracker: {\n        storage_type: { type: 'select', label: 'Storage Type', options: ['local', 'cloud'], default: 'local' },\n        expiration_alerts: { type: 'boolean', label: 'Expiration Alerts', default: true },\n        alert_days_before: { type: 'number', label: 'Alert Days Before Expiration', default: 3, min: 1, max: 30 },\n        barcode_scanner_api: { type: 'password', label: 'Barcode Scanner API Key', required: false, placeholder: 'Your barcode API key' }\n      },\n\n      // ============ LUNA HEALTH TOOLS ============\n      fitness_tracker: {\n        fitbit_client_id: { type: 'string', label: 'Fitbit Client ID', required: false, placeholder: 'Your Fitbit Client ID' },\n        fitbit_client_secret: { type: 'password', label: 'Fitbit Client Secret', required: false, placeholder: 'Your Fitbit Client Secret' },\n        apple_health_enabled: { type: 'boolean', label: 'Apple Health Integration', default: false },\n        garmin_api_key: { type: 'password', label: 'Garmin API Key', required: false, placeholder: 'Your Garmin API key' },\n        strava_client_id: { type: 'string', label: 'Strava Client ID', required: false, placeholder: 'Your Strava Client ID' },\n        strava_client_secret: { type: 'password', label: 'Strava Client Secret', required: false, placeholder: 'Your Strava Client Secret' },\n        sync_frequency: { type: 'select', label: 'Data Sync Frequency', options: ['realtime', 'hourly', 'daily'], default: 'daily' }\n      },\n      health_analyzer: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        health_data_retention: { type: 'number', label: 'Health Data Retention (days)', default: 365, min: 30, max: 1825 },\n        enable_ai_insights: { type: 'boolean', label: 'Enable AI Health Insights', default: true },\n        privacy_mode: { type: 'select', label: 'Privacy Mode', options: ['strict', 'balanced', 'open'], default: 'balanced' }\n      },\n      workout_planner: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        default_workout_duration: { type: 'number', label: 'Default Workout Duration (minutes)', default: 45, min: 15, max: 180 },\n        fitness_level: { type: 'select', label: 'Default Fitness Level', options: ['beginner', 'intermediate', 'advanced'], default: 'intermediate' },\n        preferred_workout_types: { type: 'string', label: 'Preferred Workout Types (comma-separated)', placeholder: 'strength, cardio, yoga' }\n      },\n      recovery_monitor: {\n        track_sleep: { type: 'boolean', label: 'Track Sleep Patterns', default: true },\n        track_hrv: { type: 'boolean', label: 'Track Heart Rate Variability', default: true },\n        track_stress: { type: 'boolean', label: 'Track Stress Levels', default: true },\n        recovery_notifications: { type: 'boolean', label: 'Recovery Notifications', default: true }\n      },\n\n      // ============ MILO NUTRITION TOOLS ============\n      nutrition_analyzer: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        usda_api_key: { type: 'password', label: 'USDA FoodData API Key', required: false, placeholder: 'Your USDA API key' },\n        nutritionix_app_id: { type: 'string', label: 'Nutritionix App ID', required: false, placeholder: 'Your Nutritionix App ID' },\n        nutritionix_api_key: { type: 'password', label: 'Nutritionix API Key', required: false, placeholder: 'Your Nutritionix API key' },\n        daily_calorie_target: { type: 'number', label: 'Daily Calorie Target', default: 2000, min: 1000, max: 5000 }\n      },\n      meal_planner: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        spoonacular_api_key: { type: 'password', label: 'Spoonacular API Key', required: false, placeholder: 'Your Spoonacular API key' },\n        dietary_restrictions: { type: 'string', label: 'Dietary Restrictions (comma-separated)', placeholder: 'vegetarian, gluten-free, dairy-free' },\n        meal_prep_days: { type: 'number', label: 'Meal Prep Days', default: 7, min: 1, max: 14 },\n        budget_per_meal: { type: 'number', label: 'Budget Per Meal ($)', default: 10, min: 1, max: 100 }\n      },\n      recipe_engine: {\n        openai_api_key: { type: 'password', label: 'OpenAI API Key', required: true, placeholder: 'sk-...' },\n        recipe_api_key: { type: 'password', label: 'Recipe API Key', required: false, placeholder: 'Your recipe API key' },\n        cuisine_preferences: { type: 'string', label: 'Cuisine Preferences (comma-separated)', placeholder: 'italian, asian, mexican' },\n        difficulty_level: { type: 'select', label: 'Recipe Difficulty Level', options: ['easy', 'medium', 'hard', 'any'], default: 'medium' },\n        cooking_time_limit: { type: 'number', label: 'Cooking Time Limit (minutes)', default: 60, min: 10, max: 300 }\n      }\n    };\n    return schemas[toolName] || {};\n  };\n\n  const renderConfigurationForm = () => {\n    if (!selectedTool?.name) return null;\n    \n    const schema = selectedTool.schema || {};\n    \n    // Debug logging\n    console.log('renderConfigurationForm - selectedTool:', selectedTool);\n    console.log('renderConfigurationForm - schema:', schema);\n    console.log('renderConfigurationForm - schema entries:', Object.entries(schema));\n    \n    if (Object.keys(schema).length === 0) {\n      return (\n        <div className=\"space-y-4\">\n          <h3 className=\"font-semibold text-gray-800\">Configuration Settings</h3>\n          <p className=\"text-red-500\">No configuration schema found for {selectedTool.name}</p>\n        </div>\n      );\n    }\n    \n    return (\n      <div className=\"space-y-4\">\n        <h3 className=\"font-semibold text-gray-800\">Configuration Settings</h3>\n        \n        {Object.entries(schema).map(([key, field]) => (\n          <div key={key} className=\"space-y-2\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              {field.label}\n              {field.required && <span className=\"text-red-500 ml-1\">*</span>}\n            </label>\n            \n            {field.type === 'select' ? (\n              <select\n                value={configForm[key] || field.default || ''}\n                onChange={(e) => setConfigForm(prev => ({ ...prev, [key]: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"\">Select...</option>\n                {field.options?.map(option => (\n                  <option key={option} value={option}>{option}</option>\n                ))}\n              </select>\n            ) : field.type === 'boolean' ? (\n              <label className=\"flex items-center space-x-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={configForm[key] !== undefined ? configForm[key] : field.default}\n                  onChange={(e) => setConfigForm(prev => ({ ...prev, [key]: e.target.checked }))}\n                  className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\n                />\n                <span className=\"text-sm text-gray-600\">Enable</span>\n              </label>\n            ) : field.type === 'number' ? (\n              <input\n                type=\"number\"\n                min={field.min}\n                max={field.max}\n                value={configForm[key] || field.default || ''}\n                onChange={(e) => setConfigForm(prev => ({ ...prev, [key]: parseInt(e.target.value) || '' }))}\n                placeholder={field.placeholder}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            ) : (\n              <input\n                type={field.type === 'password' ? 'password' : field.type === 'email' ? 'email' : 'text'}\n                value={configForm[key] || ''}\n                onChange={(e) => setConfigForm(prev => ({ ...prev, [key]: e.target.value }))}\n                placeholder={field.placeholder}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            )}\n            \n            {field.type === 'password' && configForm[key] && (\n              <div className=\"flex items-center gap-2 text-sm text-green-600\">\n                <CheckCircle className=\"w-4 h-4\" />\n                API key configured\n              </div>\n            )}\n          </div>\n        ))}\n        \n        {selectedTool.name === 'calendar_manager' && (\n          <div className=\"bg-amber-50 p-4 rounded-lg\">\n            <h4 className=\"font-medium text-amber-800 mb-2\">Setup Instructions:</h4>\n            <ol className=\"text-sm text-amber-700 space-y-1\">\n              <li>1. Go to <a href=\"https://console.developers.google.com/\" target=\"_blank\" rel=\"noreferrer\" className=\"underline\">Google Cloud Console</a></li>\n              <li>2. Enable the Google Calendar API</li>\n              <li>3. Create OAuth 2.0 credentials</li>\n              <li>4. Add {window.location.origin}/auth/google/callback as authorized redirect URI</li>\n              <li>5. Copy the Client ID and Secret here</li>\n            </ol>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const validateConfiguration = (config, schema) => {\n    const errors = [];\n    \n    for (const [key, field] of Object.entries(schema)) {\n      const value = config[key];\n      \n      // Check required fields\n      if (field.required && (!value || value.toString().trim() === '')) {\n        errors.push(`${field.label} is required`);\n        continue;\n      }\n      \n      if (value && value.toString().trim() !== '') {\n        // Validate specific field types\n        if (field.type === 'email' && !value.includes('@')) {\n          errors.push(`${field.label} must be a valid email address`);\n        }\n        \n        if (field.type === 'password' && key.includes('openai_api_key') && !value.startsWith('sk-')) {\n          errors.push(`${field.label} must start with 'sk-'`);\n        }\n        \n        if (field.type === 'number') {\n          const num = parseInt(value);\n          if (isNaN(num)) {\n            errors.push(`${field.label} must be a valid number`);\n          } else {\n            if (field.min && num < field.min) {\n              errors.push(`${field.label} must be at least ${field.min}`);\n            }\n            if (field.max && num > field.max) {\n              errors.push(`${field.label} must be at most ${field.max}`);\n            }\n          }\n        }\n        \n        if (key === 'google_client_id' && !value.includes('.apps.googleusercontent.com')) {\n          errors.push(`${field.label} must be a valid Google OAuth Client ID ending in '.apps.googleusercontent.com'`);\n        }\n        \n        if (key === 'google_client_secret' && !value.startsWith('GOCSPX-')) {\n          errors.push(`${field.label} must be a valid Google OAuth Client Secret starting with 'GOCSPX-'`);\n        }\n      }\n    }\n    \n    return errors;\n  };\n\n  const saveConfiguration = async () => {\n    if (!selectedTool) return;\n    \n    // Validate configuration before saving\n    const errors = validateConfiguration(configForm, selectedTool.schema);\n    if (errors.length > 0) {\n      alert(`Configuration validation failed:\\n\\n${errors.join('\\n')}`);\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      console.log('Saving configuration for:', selectedTool.agent, selectedTool.name);\n      console.log('Configuration data:', configForm);\n      \n      const response = await fetch(\n        `http://localhost:8000/agents/${selectedTool.agent}/tools/${selectedTool.name}/config`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ config: configForm })\n        }\n      );\n      \n      const data = await response.json();\n      console.log('Save response:', data);\n      \n      if (data.success) {\n        alert('✅ Configuration saved successfully!');\n        setShowConfigModal(false);\n        // Refresh agent data to show updated configuration\n        fetchAgents();\n      } else {\n        alert(`❌ Failed to save configuration:\\n${data.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Failed to save configuration:', error);\n      alert(`❌ Failed to save configuration:\\n${error.message}\\n\\nCheck console for details.`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const testConfiguration = async () => {\n    if (!selectedTool) return;\n    \n    // Validate configuration before testing\n    const errors = validateConfiguration(configForm, selectedTool.schema);\n    if (errors.length > 0) {\n      alert(`Configuration validation failed:\\n\\n${errors.join('\\n')}\\n\\nPlease fix these issues before testing.`);\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      console.log('Testing configuration for:', selectedTool.agent, selectedTool.name);\n      console.log('Configuration data:', configForm);\n      \n      const response = await fetch(\n        `http://localhost:8000/agents/${selectedTool.agent}/tools/${selectedTool.name}/test`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ config: configForm })\n        }\n      );\n      \n      const data = await response.json();\n      console.log('Test response:', data);\n      \n      if (data.success) {\n        const resultsText = Object.entries(data.test_results)\n          .map(([key, value]) => `• ${key}: ${value}`)\n          .join('\\n');\n        alert(`✅ Configuration Test Successful!\\n\\n${resultsText}`);\n      } else {\n        alert(`❌ Configuration Test Failed:\\n\\n${data.error}`);\n      }\n    } catch (error) {\n      console.error('Failed to test configuration:', error);\n      alert(`❌ Failed to test configuration:\\n${error.message}\\n\\nCheck console for details.`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const restartAgent = async (agentName) => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `http://localhost:8000/agents/${agentName}/restart`,\n        { method: 'POST' }\n      );\n      const data = await response.json();\n      \n      if (data.success) {\n        alert(`Agent ${agentName} restarted successfully!`);\n        fetchAgents();\n      } else {\n        alert('Failed to restart agent: ' + data.error);\n      }\n    } catch (error) {\n      console.error('Failed to restart agent:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const togglePasswordVisibility = (field) => {\n    setShowPasswords(prev => ({\n      ...prev,\n      [field]: !prev[field]\n    }));\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'healthy':\n      case 'active':\n      case 'connected':\n        return 'text-green-500';\n      case 'warning':\n        return 'text-yellow-500';\n      case 'unreachable':\n      case 'error':\n        return 'text-red-500';\n      default:\n        return 'text-gray-500';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'healthy':\n      case 'active':\n      case 'connected':\n        return <CheckCircle className=\"w-4 h-4\" />;\n      case 'warning':\n        return <AlertTriangle className=\"w-4 h-4\" />;\n      case 'unreachable':\n      case 'error':\n        return <AlertCircle className=\"w-4 h-4\" />;\n      default:\n        return <AlertCircle className=\"w-4 h-4\" />;\n    }\n  };\n\n  if (!selectedAgent) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold\">Agent Management & Configuration</h2>\n          <button\n            onClick={onBackToHome}\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2 transition-colors\"\n          >\n            <Home className=\"w-4 h-4\" />\n            Back to Home\n          </button>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {Object.entries(agents).map(([agentKey, agent]) => (\n            <div\n              key={agentKey}\n              className=\"bg-white rounded-lg shadow-lg border border-gray-200 p-6 cursor-pointer hover:shadow-xl transition-shadow\"\n              onClick={() => fetchAgentDetails(agentKey)}\n            >\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">{agent.name}</h3>\n                <div className={`flex items-center gap-1 ${getStatusColor(agent.status)}`}>\n                  {getStatusIcon(agent.status)}\n                  <span className=\"text-sm\">{agent.status}</span>\n                </div>\n              </div>\n              \n              <p className=\"text-gray-600 text-sm mb-4\">{agent.description}</p>\n              \n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span>MCP Tools:</span>\n                  <span className=\"font-semibold\">{agent.total_tools}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span>Port:</span>\n                  <span className=\"font-mono\">{agent.port}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span>Databases:</span>\n                  <span className=\"font-semibold\">{agent.databases?.length || 0}</span>\n                </div>\n              </div>\n              \n              <div className=\"mt-4 flex flex-wrap gap-1\">\n                {agent.external_apis?.slice(0, 3).map((api) => (\n                  <span\n                    key={api}\n                    className=\"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded\"\n                  >\n                    {api}\n                  </span>\n                ))}\n                {agent.external_apis?.length > 3 && (\n                  <span className=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded\">\n                    +{agent.external_apis.length - 3} more\n                  </span>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div>\n          <button\n            onClick={() => {\n              setSelectedAgent(null);\n              setSelectedTool(null);\n            }}\n            className=\"text-blue-500 hover:text-blue-700 mb-2\"\n          >\n            ← Back to Agents\n          </button>\n          <h2 className=\"text-2xl font-bold\">{selectedAgent.name} - Agent Management</h2>\n          <p className=\"text-gray-600\">{selectedAgent.description}</p>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          <div className={`flex items-center gap-2 ${getStatusColor(selectedAgent.status)}`}>\n            {getStatusIcon(selectedAgent.status)}\n            <span>{selectedAgent.status}</span>\n          </div>\n          <button\n            onClick={() => restartAgent(selectedAgent.name)}\n            className=\"px-3 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 flex items-center gap-2\"\n            disabled={loading}\n          >\n            <RefreshCw className=\"w-4 h-4\" />\n            Restart\n          </button>\n          <button\n            onClick={onBackToHome}\n            className=\"px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 flex items-center gap-2\"\n          >\n            <Home className=\"w-4 h-4\" />\n            Home\n          </button>\n        </div>\n      </div>\n\n      {/* Runtime Info */}\n      {selectedAgent.runtime_info && (\n        <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n          <h3 className=\"font-semibold mb-3\">Runtime Information</h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n            <div>\n              <span className=\"text-gray-500\">Uptime:</span>\n              <div className=\"font-mono\">{selectedAgent.runtime_info.uptime}</div>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Requests:</span>\n              <div className=\"font-mono\">{selectedAgent.runtime_info.requests_handled}</div>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Success Rate:</span>\n              <div className=\"font-mono text-green-600\">{selectedAgent.runtime_info.success_rate}</div>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Memory:</span>\n              <div className=\"font-mono\">{selectedAgent.runtime_info.memory_usage}</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* MCP Tools */}\n      <div className=\"bg-white rounded-lg shadow-lg mb-6\">\n        <div className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n            <Settings className=\"w-5 h-5\" />\n            MCP Tools ({selectedAgent.mcp_tools?.length || 0})\n          </h3>\n          \n          <div className=\"grid gap-4\">\n            {selectedAgent.mcp_tools?.map((tool) => (\n              <div\n                key={tool.name}\n                className=\"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors cursor-pointer\"\n                onClick={() => fetchToolDetails(selectedAgent.name, tool.name)}\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <h4 className=\"font-medium\">{tool.name}</h4>\n                    <div className={`flex items-center gap-1 ${getStatusColor(tool.status)}`}>\n                      {getStatusIcon(tool.status)}\n                      <span className=\"text-sm\">{tool.status}</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        testToolConnection(selectedAgent.name, tool.name);\n                      }}\n                      className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 flex items-center gap-1\"\n                      disabled={loading}\n                    >\n                      <TestTube className=\"w-3 h-3\" />\n                      Test\n                    </button>\n                    \n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        openConfigModal(selectedAgent.name, tool.name);\n                      }}\n                      className=\"px-2 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 flex items-center gap-1\"\n                    >\n                      <Key className=\"w-3 h-3\" />\n                      Configure\n                    </button>\n                  </div>\n                </div>\n                \n                <p className=\"text-gray-600 text-sm mb-3\">{tool.description}</p>\n                \n                <div className=\"flex items-center justify-between text-sm\">\n                  <div className=\"flex items-center gap-4\">\n                    <span className=\"text-gray-500\">\n                      Config Items: {tool.config_items?.length || 0}\n                    </span>\n                    <span className=\"text-gray-500\">\n                      Last Used: {new Date(tool.last_used).toLocaleTimeString()}\n                    </span>\n                  </div>\n                  \n                  {tool.requires_config && (\n                    <span className={`px-2 py-1 rounded-full text-xs ${\n                      tool.config_items?.length > 0 \n                        ? 'bg-yellow-100 text-yellow-800' \n                        : 'bg-green-100 text-green-800'\n                    }`}>\n                      {tool.config_items?.length > 0 ? 'Needs Config' : 'Configured'}\n                    </span>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Databases */}\n      <div className=\"bg-white rounded-lg shadow-lg mb-6\">\n        <div className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n            <Database className=\"w-5 h-5\" />\n            Databases ({selectedAgent.databases?.length || 0})\n          </h3>\n          \n          <div className=\"grid md:grid-cols-2 gap-4\">\n            {selectedAgent.databases?.map((db) => (\n              <div key={db} className=\"border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"font-medium\">{db}</h4>\n                  <div className=\"flex items-center gap-1 text-green-500\">\n                    <CheckCircle className=\"w-4 h-4\" />\n                    <span className=\"text-sm\">Connected</span>\n                  </div>\n                </div>\n                \n                <div className=\"text-sm text-gray-600 space-y-1\">\n                  <div>Size: 45MB</div>\n                  <div>Last Backup: Today 10:00 AM</div>\n                </div>\n                \n                <div className=\"mt-3 flex gap-2\">\n                  <button className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 flex items-center gap-1\">\n                    <Download className=\"w-3 h-3\" />\n                    Backup\n                  </button>\n                  <button className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 flex items-center gap-1\">\n                    <FileText className=\"w-3 h-3\" />\n                    Logs\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* External APIs */}\n      <div className=\"bg-white rounded-lg shadow-lg\">\n        <div className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n            <Activity className=\"w-5 h-5\" />\n            External APIs ({selectedAgent.external_apis?.length || 0})\n          </h3>\n          \n          <div className=\"grid md:grid-cols-3 gap-4\">\n            {selectedAgent.external_apis?.map((api) => (\n              <div key={api} className=\"border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"font-medium\">{api}</h4>\n                  <div className=\"flex items-center gap-1 text-green-500\">\n                    <CheckCircle className=\"w-4 h-4\" />\n                    <span className=\"text-sm\">Active</span>\n                  </div>\n                </div>\n                \n                <div className=\"text-sm text-gray-600\">\n                  Rate limit: 95/100 requests\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Configuration Modal */}\n      {showConfigModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-bold\">Configure {selectedTool?.name}</h2>\n              <button\n                onClick={() => setShowConfigModal(false)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <AlertTriangle className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            {selectedTool && (\n              <div className=\"space-y-6\">\n                <div className=\"bg-blue-50 p-4 rounded-lg\">\n                  <h3 className=\"font-semibold text-blue-800 mb-2\">{selectedTool.name}</h3>\n                  <p className=\"text-blue-700 text-sm\">{selectedTool.description}</p>\n                </div>\n\n                {/* API Configuration */}\n                {renderConfigurationForm()}\n\n                {/* Action Buttons */}\n                <div className=\"flex justify-end gap-3 pt-4 border-t\">\n                  <button\n                    onClick={() => {\n                      console.log('Cancel clicked');\n                      setShowConfigModal(false);\n                    }}\n                    className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={() => {\n                      console.log('Save clicked - configForm:', configForm);\n                      saveConfiguration();\n                    }}\n                    disabled={loading}\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2\"\n                  >\n                    {loading ? <RefreshCw className=\"w-4 h-4 animate-spin\" /> : <Save className=\"w-4 h-4\" />}\n                    Save Configuration\n                  </button>\n                  <button\n                    onClick={() => {\n                      console.log('Test clicked - configForm:', configForm);\n                      testConfiguration();\n                    }}\n                    disabled={loading}\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center gap-2\"\n                  >\n                    <TestTube className=\"w-4 h-4\" />\n                    Test\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AgentManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}